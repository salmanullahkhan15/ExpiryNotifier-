{"version":3,"sources":["../../src/providers/user/user.ts","../../src/providers/items/items.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/app/app.firebase.config.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { User } from '../../models/user';\nimport { map } from 'rxjs/operators';\n\n\n@Injectable()\nexport class UserProvider {\n\n  private currentUser: User;\n\n  constructor(private afs: AngularFirestore) {\n  }\n\n  setCurrentUser(user){\n    this.currentUser = user;\n  }\n  \n  getCurrentUser(){\n    console.log('Returning Current User => '+this.currentUser);\n    return this.currentUser;\n  }\n\n  getFamilyMembers(){\n    console.log('Finding members of '+this.currentUser.family)\n    return this.afs.collection<User>('Users', \n      ref => ref.where('family','==',this.currentUser.family)\n    ).snapshotChanges().pipe(\n      map(actions => actions.map(a => {\n        let data = a.payload.doc.data() as User;\n        data.id = a.payload.doc.id;\n        return data;\n      }))\n    )\n  }\n\n  \n  DeleteMember(id){\n    return new Promise((res,rej) => {\n      this.afs.collection<User>('Users').doc(id).update({\n        family: id+\"_family\"\n      }).then(() => {\n        res()\n      })\n      .catch(e => rej(e));\n    });\n  }\n\n  setFamily(newFamily){\n    return new Promise((res,rej) => {\n      this.afs.collection<User>('Users').doc(this.currentUser.id).update({\n        family: newFamily\n      }).then(() => {\n        this.currentUser.family = newFamily;\n        res()\n      })\n      .catch(e => rej(e));\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user/user.ts","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Item } from '../../models/item';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ItemsProvider {\n\n  private items : Item[] = [];\n\n  constructor(private afs: AngularFirestore) {\n    \n  }\n\n  generateUniqueID(){\n    return new Promise((res) => {\n      let id;\n      while(true){\n        id = Math.floor(Math.random() * Math.floor(1000));\n        console.log('new key '+id);\n        if(this.items.length > 0){\n          if(this.items.find( o => o.id != id)){\n            console.log(id+' is an unique key');\n            break;\n          }\n        }else break;\n      }\n      res(id);\n    });\n  }\n\n  addItem(item, familyName){\n    return new Promise((res) => {\n      let doc = this.afs.doc('Items/'+familyName);\n      let sub = doc.valueChanges().subscribe( itemsList => {\n        this.items = itemsList['items'];\n        if(!this.items) this.items = [];\n        this.generateUniqueID().then( id => {\n          item.id = id;\n          item.isTrash = false;\n          this.items.push(item);\n          sub.unsubscribe();\n          doc.update({items:this.items})\n          .then(() => {\n            res();\n          });\n        });\n      });\n    });\n  }\n\n  getList(familyName){\n    return this.afs.doc('Items/'+familyName).valueChanges();\n  }\n\n\n  movetoTrash(id, familyName){\n    let doc = this.afs.doc('Items/'+familyName);\n    let sub = doc.valueChanges().subscribe( itemsList => {\n      this.items = itemsList['items'];\n      let item = this.items.find( o => o.id == id);\n      item.isTrash = true;\n      sub.unsubscribe();\n      doc.update({items:this.items});\n    });\n  }\n\n  movetoCart(id, familyName){\n    let doc = this.afs.doc('Items/'+familyName);\n    let sub = doc.valueChanges().subscribe( itemsList => {\n      this.items = itemsList['items'];\n      let item = this.items.find( o => o.id == id);\n      item.isTrash = false;\n      sub.unsubscribe();\n      doc.update({items:this.items});\n    });\n  }\n\n  deleteItem(id, familyName){\n    let doc = this.afs.doc('Items/'+familyName);\n    let sub = doc.valueChanges().subscribe( itemsList => {\n      this.items = itemsList['items'].filter( item => {\n        if(item.id == id) return false;\n        else return true;\n      });\n      sub.unsubscribe();\n      doc.update({items:this.items});\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/items/items.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 230;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 230\n// module chunks = 9","var map = {\n\t\"../pages/auth/auth.module\": [\n\t\t586,\n\t\t8\n\t],\n\t\"../pages/cart/cart.module\": [\n\t\t587,\n\t\t7\n\t],\n\t\"../pages/custom/custom.module\": [\n\t\t588,\n\t\t6\n\t],\n\t\"../pages/family-invite/family-invite.module\": [\n\t\t594,\n\t\t5\n\t],\n\t\"../pages/family-join/family-join.module\": [\n\t\t589,\n\t\t4\n\t],\n\t\"../pages/family/family.module\": [\n\t\t590,\n\t\t3\n\t],\n\t\"../pages/home/home.module\": [\n\t\t591,\n\t\t2\n\t],\n\t\"../pages/setting/setting.module\": [\n\t\t592,\n\t\t1\n\t],\n\t\"../pages/trash/trash.module\": [\n\t\t593,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 271;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 271\n// module chunks = 9","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n\nimport { MyApp } from './app.component';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { ToastController } from 'ionic-angular';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\nimport { FIREBASE_CONFIG } from './app.firebase.config';\n\nimport { ItemsProvider } from '../providers/items/items';\nimport { UserProvider } from '../providers/user/user';\n\nimport { NgxQRCodeModule } from 'ngx-qrcode2';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner'\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    NgxQRCodeModule,\n    AngularFireModule.initializeApp(FIREBASE_CONFIG),\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    LocalNotifications,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    ItemsProvider,\n    ToastController,\n    UserProvider,\n    BarcodeScanner,\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from '../models/user';\nimport { UserProvider } from '../providers/user/user';\nimport { ItemsProvider } from '../providers/items/items';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: string = '';\n\n  pages: Array<{icon: string, title: string, component: string}>;\n\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen, \n    private afAuth: AngularFireAuth, private afs: AngularFirestore, private userService: UserProvider,\n    private itemService: ItemsProvider) {\n    let auth = this.afAuth.authState.subscribe(data => {\n      if(data && data.uid && data.email){\n        if(userService.getCurrentUser() == null){\n          let sub = this.afs.doc<User>('Users/'+data.uid).valueChanges()\n          .subscribe( user => {\n            console.log('User Found during Check-Auth: '+user.name)\n            user.id = data.uid;\n            this.userService.setCurrentUser(user);\n            sub.unsubscribe();\n            auth.unsubscribe();\n            this.rootPage = 'HomePage';\n          })\n        }\n      }\n      else {\n        auth.unsubscribe();\n        this.rootPage = 'AuthPage';\n      }\n    });\n\n    this.initializeApp();\n    \n    // used for an example of ngFor and navigation\n    this.pages = [\n      { icon: 'home', title: 'Home', component: 'HomePage' },\n      { icon: 'cart', title: 'Your Cart', component: 'CartPage' },\n      { icon: 'trash', title: 'Trash', component: 'TrashPage' },\n      { icon: 'people', title: 'Family Tree', component: 'FamilyPage' },\n      { icon: 'settings', title: 'Settings', component: 'SettingPage' },\n      { icon: 'person', title: 'Logout', component: 'Logout' },\n    ];\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleBlackTranslucent();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    if(page.title != \"Logout\") this.nav.setRoot(page.component);\n    else{\n      this.afAuth.auth.signOut().then(() => {\n        this.nav.setRoot('AuthPage');\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const FIREBASE_CONFIG = {\r\n    apiKey: \"AIzaSyCqY-MIwM-xvGH8rJSfc2ZSOPO3u9VkKKk\",\r\n    authDomain: \"barcodeproject-7aca0-2f278.firebaseapp.com\",\r\n    databaseURL: \"https://barcodeproject-7aca0-2f278.firebaseio.com\",\r\n    projectId: \"barcodeproject-7aca0-2f278\",\r\n    storageBucket: \"barcodeproject-7aca0-2f278.appspot.com\",\r\n    messagingSenderId: \"119373423473\"\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.firebase.config.ts"],"sourceRoot":""}