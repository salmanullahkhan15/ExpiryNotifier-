{"version":3,"sources":["../../src/pages/family/family.module.ts","../../src/pages/family/family.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FamilyPage } from './family';\n\n@NgModule({\n  declarations: [\n    FamilyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FamilyPage),\n  ],\n})\nexport class FamilyPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/family/family.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController } from 'ionic-angular';\nimport { User } from '../../models/user';\nimport { UserProvider } from '../../providers/user/user';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\n\n@IonicPage()\n@Component({\n  selector: 'page-family',\n  templateUrl: 'family.html',\n})\nexport class FamilyPage {\n\n  users: User[] = [];\n  isTrue = true;\n  currentUserID;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private userService: UserProvider, private barcodeScanner: BarcodeScanner,\n    public toastCtrl: ToastController, private loadingCtrl: LoadingController) {\n    this.currentUserID = this.userService.getCurrentUser().id;\n    if (this.currentUserID + \"_family\" == this.userService.getCurrentUser().family) {\n      this.isTrue = false;\n    }\n  }\n\n  ionViewWillLoad() {\n    this.loadUsers();\n  }\n\n  loadUsers() {\n    this.userService.getFamilyMembers().subscribe(users => {\n      this.users = users;\n    });\n  }\n\n  DeleteUser(user) {\n    this.userService.DeleteMember(user.id);\n  }\n\n  InviteUser() {\n    // Open a QRcode\n    this.navCtrl.push('FamilyInvitePage', { familyCode: this.userService.getCurrentUser().family });\n  }\n\n  JoinFamily() {\n    // open camera for QRCode\n    this.barcodeScanner.scan({\n      prompt: 'Scan Family QRCode To join',\n      preferFrontCamera: false,\n      resultDisplayDuration: 0\n    }).then(barcodeData => {\n      if (barcodeData.text) {\n        let loading = this.loadingCtrl.create({\n          content: 'Please wait...'\n        });\n\n        loading.present();\n\n        this.userService.setFamily(barcodeData.text)\n          .then(() => {\n            this.loadUsers();\n            loading.dismiss();\n          });\n      }\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/family/family.ts"],"sourceRoot":""}