{"version":3,"sources":["../../src/pages/trash/trash.module.ts","../../src/pages/trash/trash.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AAUpC;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAR3B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,yDAAS;aACV;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;aACpC;SACF,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACZc;AACe;AACG;AACH;AAOzD;IAKE,mBAAmB,OAAsB,EAAS,SAAoB,EAC7D,aAA4B,EAAU,WAAyB;QADrD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC7D,kBAAa,GAAb,aAAa,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAc;QAJxE,kBAAa,GAAG,EAAE,CAAC;QACnB,UAAK,GAAmD,EAAE,CAAC;QAIzD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC;IAC7D,CAAC;IAED,oCAAgB,GAAhB;QAAA,iBASC;QARC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAE,mBAAS;YAC9D,KAAI,CAAC,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC,MAAM,CAAE,cAAI;gBAC1C,EAAE,EAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC;oBAAC,MAAM,CAAC,IAAI,CAAC;gBACrC,IAAI;oBAAC,MAAM,CAAC,KAAK,CAAC;YACpB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC;IAED,+BAAW,GAAX,UAAY,IAAI;QACd,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,EAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACtD,CAAC;IAED,gCAAY,GAAZ,UAAc,IAAI;QAChB,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC7C,EAAE,EAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QAC1B,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzB,CAAC;IACH,CAAC;IAED,gCAAY,GAAZ,UAAc,IAAI,EAAE,IAAI;QACtB,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC7C,EAAE,EAAC,IAAI,IAAI,KAAK,CAAC,EAAC;YAChB,EAAE,EAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACnD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACxB,CAAC;QAAA,IAAI,EAAC;YACJ,EAAE,EAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACZ,aAAa;YACjB,CAAC;YACD,IAAI;gBAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvB,CAAC;IACH,CAAC;IAED,6BAAS,GAAT,UAAU,IAAI;QAAd,iBAKC;QAJC,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC;YAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAC,MAAK,EAAC,KAAI,CAAC;QACjE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;YACrB,KAAI,CAAC,YAAY,CAAE,IAAI,EAAE,IAAI,CAAE,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,6BAAS,GAAT;QAAA,iBAIC;QAHC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,cAAI;YAC7B,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8BAAU,GAAV;QAAA,iBAIC;QAHC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,cAAI;YAC7B,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;IApEU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;uKAMsE;YAC9C,MAAgD;OAN7D,SAAS,CAsErB;IAAD,CAAC;AAAA;SAtEY,SAAS,e","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TrashPage } from './trash';\n\n@NgModule({\n  declarations: [\n    TrashPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TrashPage),\n  ],\n})\nexport class TrashPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trash/trash.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ItemsProvider } from '../../providers/items/items';\nimport { UserProvider } from '../../providers/user/user';\n\n@IonicPage()\n@Component({\n  selector: 'page-trash',\n  templateUrl: 'trash.html',\n})\nexport class TrashPage {\n\n  selecteditems = [];\n  items : {name: string, type: string, expiry:string}[] = [];\n  familyName;\n  constructor(public navCtrl: NavController, public navParams: NavParams, \n    public itemsProvider: ItemsProvider, private userService: UserProvider) {\n    this.familyName = this.userService.getCurrentUser().family;\n  }\n\n  ionViewWillEnter(){\n    this.itemsProvider.getList(this.familyName).subscribe( itemsList => {\n      this.items = itemsList['items'].filter( item => {\n        if(item.isTrash == true) return true;\n        else return false;\n      });\n    });\n\n    this.btnSelect('off');\n  }\n\n  RecoverItem(item){\n    this.itemsProvider.movetoCart(item,this.familyName);\n  }\n\n  itemSelected( item ){\n    let index = this.selecteditems.indexOf(item);\n    if(index > -1) {\n        this.selecteditems.splice(index, 1);\n        item.selected = false;\n    } else {\n        this.selecteditems.push(item);\n        item.selected = true;\n    }\n  }\n\n  toggleSelect( item, type ){\n    let index = this.selecteditems.indexOf(item);\n    if(type == \"off\"){\n      if(index > -1) this.selecteditems.splice(index, 1);\n      item.selected = false;\n    }else{\n      if(index > -1) {\n          // do nothing\n      } \n      else this.selecteditems.push(item);\n      item.selected = true;\n    }\n  }\n\n  btnSelect(type){\n    if(type == null) type = this.selecteditems.length > 0?\"off\":\"on\"; \n    this.items.forEach(item => {\n      this.toggleSelect( item, type );\n    });\n  }\n\n\n  btnDelete(){\n    this.selecteditems.forEach(item => {\n      this.itemsProvider.deleteItem(item.id, this.familyName);\n    });\n  }\n\n  btnRecover(){\n    this.selecteditems.forEach(item => {\n      this.itemsProvider.movetoCart(item.id, this.familyName);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trash/trash.ts"],"sourceRoot":""}