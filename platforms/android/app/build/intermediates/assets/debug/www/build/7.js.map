{"version":3,"sources":["../../src/pages/cart/cart.module.ts","../../src/pages/cart/cart.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CartPage } from './cart';\n\n@NgModule({\n  declarations: [\n    CartPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CartPage),\n  ],\n})\nexport class CartPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController } from 'ionic-angular';\nimport { ItemsProvider } from '../../providers/items/items';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { UserProvider } from '../../providers/user/user';\nimport { Item } from '../../models/item';\n\n@IonicPage()\n@Component({\n  selector: 'page-cart',\n  templateUrl: 'cart.html',\n})\nexport class CartPage {\n\n  selecteditems = [];\n  items: Item[] = [];\n  familyName;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public itemsProvider: ItemsProvider, private localNotifications: LocalNotifications,\n    private barcodeScanner: BarcodeScanner, private userService: UserProvider,\n    public toastCtrl: ToastController, private loadingCtrl: LoadingController) {\n    this.familyName = this.userService.getCurrentUser().family;\n  }\n\n  ionViewWillEnter() {\n    this.itemsProvider.getList(this.familyName).subscribe(itemsList => {\n      if (itemsList) {\n        this.items = itemsList['items'].filter(item => {\n          if (item.isTrash == true) return false;\n          else return true;\n        });\n        console.log(JSON.stringify(this.items));\n      }\n      else this.items = [];\n    });\n\n    this.btnSelect('off');\n  }\n\n  customItem(item) {\n    this.navCtrl.push('CustomPage', { items: [item] });\n  }\n\n  itemSelected(item, index) {\n    let i = this.selecteditems.indexOf(item);\n    if (i > -1) {\n      this.selecteditems.splice(i, 1);\n      item.selected = false;\n    } else {\n      this.selecteditems.push(item);\n      item.selected = true;\n    }\n  }\n\n  toggleSelect(item, type) {\n    let index = this.selecteditems.indexOf(item);\n    if (type == \"off\") {\n      if (index > -1) this.selecteditems.splice(index, 1);\n      item.selected = false;\n    } else {\n      if (index > -1) {\n        // do nothing\n      }\n      else this.selecteditems.push(item);\n      item.selected = true;\n    }\n  }\n\n  btnSelect(type) {\n    if (type == null) type = this.selecteditems.length > 0 ? \"off\" : \"on\";\n    this.items.forEach(item => {\n      this.toggleSelect(item, type);\n    });\n  }\n\n\n  btnDelete() {\n    this.selecteditems.forEach(item => {\n      this.localNotifications.cancel(item.id);\n      this.itemsProvider.movetoTrash(item.id, this.familyName);\n    });\n  }\n\n  btnCustom() {\n    if (this.selecteditems.length > 0) this.navCtrl.push('CustomPage', { items: this.selecteditems.slice() });\n  }\n\n  btnAdd() {\n    // open camera for QRCode\n    this.barcodeScanner.scan({\n      prompt: 'Scan Item Barcode',\n      preferFrontCamera: false,\n      resultDisplayDuration: 0,\n      formats: 'DATA_MATRIX'\n    }).then(barcodeData => {\n      if (barcodeData.text) {\n        let loading = this.loadingCtrl.create({\n          content: 'Please wait...'\n        });\n\n        loading.present();\n\n        this.itemsProvider.addItem(JSON.parse(barcodeData.text), this.userService.getCurrentUser().family)\n          .then(() => {\n            loading.dismiss();\n          });\n\n      }\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.ts"],"sourceRoot":""}